---
title: "Google Gemini í™œìš© ì±—ë´‡ ì‚¬ì´íŠ¸"
description: "Google Gemini AI APIë¥¼ í™œìš©í•œ ì‡¼í•‘ëª° ê³ ê° ì§€ì› ì±—ë´‡ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ, ì„¸ì…˜ ê´€ë¦¬, LocalStorage ì˜ì†í™” ë“±ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤."
date: "2025-01-17"
tags: ["ê°œì¸í”„ë¡œì íŠ¸", "React", API]
featured: true
readTime: "14 min read"
author: "arghya"
thumbnail: "/thumbnails/ì±—ë´‡.png"
---

Googleì˜ ìµœì‹  ìƒì„±í˜• AI ëª¨ë¸ì¸ Gemini 2.5 Flashë¥¼ í™œìš©í•˜ì—¬ ì‹¤ì „ ì‡¼í•‘ëª° ê³ ê° ì§€ì› ì±—ë´‡ì„ ê°œë°œí–ˆìŠµë‹ˆë‹¤. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µê³¼ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” íë¦„, ë‹¤ì¤‘ ì„¸ì…˜ ê´€ë¦¬ ê¸°ëŠ¥ì„ ì¤‘ì ì ìœ¼ë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

<ImageViewer
  src="https://images.unsplash.com/photo-1531746790731-6c087fecd65a?w=900&auto=format&fit=crop&q=60"
  alt="AI Chatbot"
  caption="Google Gemini API ê¸°ë°˜ ì‡¼í•‘ëª° ì±—ë´‡"
/>

<div style={{textAlign: 'center', margin: '32px 0'}}>
  <a href="https://sp-timer.web.app/chatbot" target="_blank" rel="noopener noreferrer" style={{display: 'inline-block', padding: '12px 32px', background: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)', color: 'white', textDecoration: 'none', borderRadius: '8px', fontWeight: 600, fontSize: '16px', boxShadow: '0 4px 12px rgba(59, 130, 246, 0.3)'}}>
    ğŸ”— ì‚¬ì´íŠ¸ ë³´ëŸ¬ê°€ê¸°
  </a>
</div>

## í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” Google Gemini AIë¥¼ í™œìš©í•œ ì‡¼í•‘ëª° ê³ ê° ìƒë‹´ ì±—ë´‡ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µìœ¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” ê²½í—˜ì„ ì œê³µí•˜ë©°, ë‹¤ì¤‘ ì„¸ì…˜ ê´€ë¦¬ë¡œ ì—¬ëŸ¬ ëŒ€í™”ë¥¼ ë™ì‹œì— ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

- **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ**: Server-Sent Events(SSE)ë¥¼ í™œìš©í•œ íƒ€ì´í•‘ íš¨ê³¼
- **ë‹¤ì¤‘ ì„¸ì…˜ ê´€ë¦¬**: ì—¬ëŸ¬ ëŒ€í™”ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬
- **ëŒ€í™” íˆìŠ¤í† ë¦¬ ìœ ì§€**: LocalStorageë¥¼ í†µí•œ ì˜ì†í™”
- **ì»¨í…ìŠ¤íŠ¸ ìœ ì§€**: ì´ì „ ëŒ€í™” ê¸°ì–µ ë° ì—°ì†ì ì¸ ëŒ€í™”
- **ì‡¼í•‘ëª° íŠ¹í™” í”„ë¡¬í”„íŠ¸**: ìƒë‹´ì‚¬ ì—­í• ì˜ ì „ë¬¸ì ì¸ ì‘ë‹µ
- **ë°˜ì‘í˜• UI**: ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ìµœì í™” ì¸í„°í˜ì´ìŠ¤

### ê¸°ìˆ  ìŠ¤íƒ

**Frontend**
- React 18 + TypeScript
- TanStack Query (v5)
- Jotai (ìƒíƒœ ê´€ë¦¬ + LocalStorage)
- Emotion (styled-components)
- Vite

**AI & API**
- Google Gemini 2.5 Flash API
- Server-Sent Events (SSE) Streaming

## í•µì‹¬ êµ¬í˜„ ì‚¬í•­

### 1. Gemini API ìŠ¤íŠ¸ë¦¬ë° í†µí•©

ì‹¤ì‹œê°„ ì‘ë‹µì„ ìœ„í•´ SSE(Server-Sent Events) ê¸°ë°˜ì˜ ìŠ¤íŠ¸ë¦¬ë° APIë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```tsx
export const geminiApi = {
  sendMessageStream: async ({
    prompt,
    history = [],
    onChunk
  }: GeminiRequest & { onChunk?: (text: string) => void }) => {
    const contents = [];

    // ì²« ë©”ì‹œì§€: ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ í¬í•¨
    if (history.length === 0) {
      contents.push({
        role: 'user',
        parts: [{ text: `${SYSTEM_PROMPT}\n\nê³ ê°: ${prompt}` }],
      });
    } else {
      // ì´í›„ ëŒ€í™”: ì»¨í…ìŠ¤íŠ¸ ìœ ì§€
      contents.push(
        ...formatHistory(history),
        {
          role: 'user',
          parts: [{ text: `${ROLE_REMINDER}\n\nê³ ê°: ${prompt}` }],
        }
      );
    }

    const response = await fetch(`${STREAM_API_URL}?key=${API_KEY}&alt=sse`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        contents,
        generationConfig: {
          temperature: 0.7,
          topK: 40,
          topP: 0.95,
          maxOutputTokens: 2048,
        },
      }),
    });

    // SSE ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬
    const reader = response.body.getReader();
    const decoder = new TextDecoder();
    let fullText = '';

    while (true) {
      const { done, value } = await reader.read();
      if (done) break;

      const chunk = decoder.decode(value, { stream: true });
      // Parse SSE data
      fullText += parseSSEChunk(chunk);

      if (onChunk) {
        onChunk(fullText); // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
      }
    }

    return { text: fullText };
  },
};
```

### 2. ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§

ì‡¼í•‘ëª° ìƒë‹´ì‚¬ ì—­í• ì„ ëª…í™•íˆ ì •ì˜í•˜ì—¬ ì¼ê´€ëœ ì‘ë‹µ í’ˆì§ˆì„ ë³´ì¥í•©ë‹ˆë‹¤.

```tsx
const SYSTEM_PROMPT = `[ì¤‘ìš” ì—­í•  ì„¤ì •]
ë‹¹ì‹ ì€ í•œêµ­ ì˜¨ë¼ì¸ ì‡¼í•‘ëª°ì˜ ì¹œì ˆí•œ ê³ ê° ì§€ì› ìƒë‹´ì‚¬ì…ë‹ˆë‹¤.

[í•„ìˆ˜ ì‘ë‹µ ê·œì¹™]
1. ë°˜ë“œì‹œ 100% í•œêµ­ì–´ë¡œë§Œ ë‹µë³€í•˜ì„¸ìš”
2. ì˜ì–´ë‚˜ ë‹¤ë¥¸ ì–¸ì–´ ì„¤ëª…ì€ ì ˆëŒ€ í•˜ì§€ ë§ˆì„¸ìš”
3. í•­ìƒ ì¡´ëŒ“ë§(~ìŠµë‹ˆë‹¤, ~í•´ìš”)ì„ ì‚¬ìš©í•˜ì„¸ìš”
4. ì‡¼í•‘ëª° ìƒë‹´ì‚¬ì˜ í†¤ìœ¼ë¡œ ì¹œì ˆí•˜ê²Œ ëŒ€í™”í•˜ì„¸ìš”
5. ì‡¼í•‘ëª° ì´ë¦„ì€ í•„ì„±ëª°ì´ì•¼

[ë‹¹ì‹ ì˜ ì—­í• ]
- ë°°ì†¡/ì£¼ë¬¸/ë°˜í’ˆ ë“± ì‡¼í•‘ ê´€ë ¨ ë¬¸ì˜ ì‘ë‹µ
- ìƒí’ˆ ì¶”ì²œ ë° ì •ë³´ ì•ˆë‚´
- í• ì¸/ì¿ í° ì •ë³´ ì•ˆë‚´
- ê³ ê° ë¶ˆí¸ ì‚¬í•­ í•´ê²°

[ì‘ë‹µ ìŠ¤íƒ€ì¼]
- ê°„ë‹¨í•œ ì¸ì‚¬ì—ë„ ì‡¼í•‘ëª° ìƒë‹´ì‚¬ë‹µê²Œ ì‘ëŒ€
- ì´ëª¨ì§€ ì ì ˆíˆ ì‚¬ìš© (ğŸ˜Š, ğŸ›ï¸, ğŸ“¦ ë“±)
- ì¹œê·¼í•˜ë©´ì„œë„ ì „ë¬¸ì ì¸ í†¤ ìœ ì§€`;
```

### 3. Jotai + LocalStorage ìƒíƒœ ê´€ë¦¬

ì„¸ì…˜ ë°ì´í„°ë¥¼ LocalStorageì— ìë™ìœ¼ë¡œ ì €ì¥í•˜ì—¬ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ëŒ€í™” íˆìŠ¤í† ë¦¬ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.

```tsx
// LocalStorage ì˜ì†í™”ë¥¼ í¬í•¨í•œ Atom
export const sessionsAtom = atomWithStorage<ChatSession[]>('chatbot-sessions', []);

export const currentSessionIdAtom = atom<string | null>(null);

// í˜„ì¬ í™œì„± ì„¸ì…˜ ê³„ì‚°
export const currentSessionAtom = atom(
  (get) => {
    const sessions = get(sessionsAtom);
    const currentId = get(currentSessionIdAtom);
    return sessions.find((session) => session.id === currentId) || null;
  }
);

// ìƒˆ ì„¸ì…˜ ìƒì„±
export const createSessionAtom = atom(
  null,
  (get, set) => {
    const newSession: ChatSession = {
      id: Date.now().toString(),
      title: 'ìƒˆë¡œìš´ ì±„íŒ…',
      messages: [],
      createdAt: new Date(),
      updatedAt: new Date(),
    };

    const sessions = get(sessionsAtom);
    set(sessionsAtom, [newSession, ...sessions]);
    set(currentSessionIdAtom, newSession.id);

    return newSession;
  }
);
```

### 4. TanStack Queryë¥¼ í™œìš©í•œ AI ì‘ë‹µ ê´€ë¦¬

Mutationì„ í†µí•´ ë‚™ê´€ì  ì—…ë°ì´íŠ¸ì™€ ì—ëŸ¬ ì²˜ë¦¬ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```tsx
export const useChat = () => {
  const [currentSession] = useAtom(currentSessionAtom);
  const updateSession = useSetAtom(updateSessionAtom);

  const sendMessageMutation = useMutation({
    mutationFn: async ({ prompt, assistantMessageId }) => {
      const history = currentSession.messages.filter(
        msg => !msg.isLoading && msg.id !== assistantMessageId
      );

      const response = await geminiApi.sendMessage({ prompt, history });

      // íƒ€ì´í•‘ íš¨ê³¼ ì‹œë®¬ë ˆì´ì…˜
      const words = response.text.split('');
      let currentIndex = 0;

      const typingInterval = setInterval(() => {
        if (currentIndex < words.length) {
          currentIndex += Math.floor(Math.random() * 3) + 1;
          const displayText = words.slice(0, currentIndex).join('');

          // ì‹¤ì‹œê°„ ë©”ì‹œì§€ ì—…ë°ì´íŠ¸
          updateMessageContent(assistantMessageId, displayText);
        } else {
          clearInterval(typingInterval);
        }
      }, 30);

      return response.text;
    },

    onMutate: async ({ prompt, assistantMessageId }) => {
      // ë‚™ê´€ì  ì—…ë°ì´íŠ¸: ì¦‰ì‹œ UIì— ë©”ì‹œì§€ í‘œì‹œ
      const userMessage = createUserMessage(prompt);
      const streamingMessage = createStreamingMessage(assistantMessageId);

      updateSession({
        ...currentSession,
        messages: [...currentSession.messages, userMessage, streamingMessage],
      });
    },

    onError: (error, variables, context) => {
      // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
      updateMessageContent(
        context.assistantMessageId,
        `ì˜¤ë¥˜: ${error.message}`
      );
    },
  });

  return { sendMessage: sendMessageMutation.mutate };
};
```

### 5. ì„¸ì…˜ ê´€ë¦¬ UI

ì‚¬ì´ë“œë°”ì—ì„œ ì—¬ëŸ¬ ëŒ€í™” ì„¸ì…˜ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const SessionList: FC = ({ onClose }) => {
  const [sessions] = useAtom(sessionsAtom);
  const [currentSessionId, setCurrentSessionId] = useAtom(currentSessionIdAtom);
  const createSession = useSetAtom(createSessionAtom);
  const deleteSession = useSetAtom(deleteSessionAtom);

  const handleNewChat = () => {
    createSession();
    onClose();
  };

  const handleSelectSession = (sessionId: string) => {
    setCurrentSessionId(sessionId);
    onClose();
  };

  return (
    <Container>
      <Header>
        <Title>ëŒ€í™” ëª©ë¡</Title>
        <NewChatButton onClick={handleNewChat}>
          + ìƒˆ ì±„íŒ…
        </NewChatButton>
      </Header>

      <SessionsList>
        {sessions.map((session) => (
          <SessionItem
            key={session.id}
            session={session}
            isActive={session.id === currentSessionId}
            onSelect={() => handleSelectSession(session.id)}
            onDelete={() => deleteSession(session.id)}
          />
        ))}
      </SessionsList>
    </Container>
  );
};
```

## íƒ€ì´í•‘ íš¨ê³¼ êµ¬í˜„

ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” ê²½í—˜ì„ ìœ„í•´ ë¬¸ì ë‹¨ìœ„ íƒ€ì´í•‘ ì• ë‹ˆë©”ì´ì…˜ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```tsx
const simulateTyping = (fullText: string, onUpdate: (text: string) => void) => {
  const words = fullText.split('');
  let currentIndex = 0;

  const interval = setInterval(() => {
    if (currentIndex < words.length) {
      // 1-3 ê¸€ìì”© ëœë¤í•˜ê²Œ íƒ€ì´í•‘
      currentIndex += Math.floor(Math.random() * 3) + 1;
      if (currentIndex > words.length) currentIndex = words.length;

      const displayText = words.slice(0, currentIndex).join('');
      onUpdate(displayText);
    } else {
      clearInterval(interval);
    }
  }, 30); // 30msë§ˆë‹¤ ì—…ë°ì´íŠ¸

  return interval;
};
```

## ë°˜ì‘í˜• ë””ìì¸

ëª¨ë°”ì¼ê³¼ ë°ìŠ¤í¬í†± ëª¨ë‘ì—ì„œ ìµœì í™”ëœ UIë¥¼ ì œê³µí•©ë‹ˆë‹¤.

```tsx
const Sidebar = styled.aside<{ isOpen: boolean }>`
  width: 300px;
  background: ${theme.colors.surface};
  border-right: 1px solid ${theme.colors.borderLight};

  @media (max-width: 768px) {
    position: fixed;
    top: 70px;
    left: 0;
    bottom: 0;
    z-index: 200;
    transform: translateX(${props => props.isOpen ? '0' : '-100%'});
    transition: transform ${theme.transitions.normal};
    box-shadow: ${props => props.isOpen ? theme.shadows.xl : 'none'};
  }
`;

const MenuButton = styled.button`
  @media (min-width: 769px) {
    display: none; // ë°ìŠ¤í¬í†±ì—ì„œëŠ” ìˆ¨ê¹€
  }
`;
```

## ì„±ëŠ¥ ìµœì í™”

### ë©”ëª¨ë¦¬ ê´€ë¦¬

```tsx
// ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ íƒ€ì´í•‘ íš¨ê³¼ ì •ë¦¬
useEffect(() => {
  return () => {
    if (typingIntervalRef.current) {
      clearInterval(typingIntervalRef.current);
    }
  };
}, []);
```

### LocalStorage ìš©ëŸ‰ ê´€ë¦¬

```tsx
// ì˜¤ë˜ëœ ì„¸ì…˜ ìë™ ì‚­ì œ (ìµœëŒ€ 50ê°œ)
const MAX_SESSIONS = 50;

const cleanOldSessions = (sessions: ChatSession[]) => {
  if (sessions.length > MAX_SESSIONS) {
    return sessions
      .sort((a, b) => b.updatedAt.getTime() - a.updatedAt.getTime())
      .slice(0, MAX_SESSIONS);
  }
  return sessions;
};
```

## API ì„¤ì • ê°€ì´ë“œ

Gemini API í‚¤ë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

```bash
# .env íŒŒì¼
VITE_GEMINI_API_KEY=your_api_key_here
```

```tsx
const API_KEY = import.meta.env.VITE_GEMINI_API_KEY;
const API_URL = 'https://generativelanguage.googleapis.com/v1/models/gemini-2.5-flash:generateContent';
const STREAM_API_URL = 'https://generativelanguage.googleapis.com/v1/models/gemini-2.5-flash:streamGenerateContent';
```

## ë°°í¬

Firebase Hostingì„ í†µí•´ í”„ë¡œë•ì…˜ ë°°í¬ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

```bash
# ë¹Œë“œ
npm run build

# Firebase ë°°í¬
firebase deploy --only hosting
```

**ë¼ì´ë¸Œ ë°ëª¨**: [https://sp-timer.web.app](https://sp-timer.web.app)

## í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë°°ìš´ ì 

### 1. AI API í†µí•©ì˜ ì‹¤ì „ ê²½í—˜
Google Gemini APIì˜ ìŠ¤íŠ¸ë¦¬ë° ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ì‹¤ì‹œê°„ ì‘ë‹µì„ êµ¬í˜„í•˜ë©´ì„œ, SSE(Server-Sent Events)ì˜ ë™ì‘ ì›ë¦¬ë¥¼ ê¹Šì´ ì´í•´í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

### 2. í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ì˜ ì¤‘ìš”ì„±
ëª…í™•í•œ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¥¼ í†µí•´ AIì˜ ì‘ë‹µ í’ˆì§ˆê³¼ ì¼ê´€ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ì—­í•  ì •ì˜, ì‘ë‹µ ê·œì¹™, í†¤ ì„¤ì • ë“±ì´ í•µì‹¬ì´ì—ˆìŠµë‹ˆë‹¤.

### 3. ìƒíƒœ ê´€ë¦¬ì˜ ë³µì¡ë„
ë‹¤ì¤‘ ì„¸ì…˜ ê´€ë¦¬ì™€ LocalStorage ì˜ì†í™”ë¥¼ Jotaië¡œ êµ¬í˜„í•˜ë©´ì„œ, íŒŒìƒ ìƒíƒœ(Derived Atoms)ì™€ ì›ì ì•¡ì…˜(Atom Actions)ì˜ ê°•ë ¥í•¨ì„ ì²´ê°í–ˆìŠµë‹ˆë‹¤.

### 4. UX ë””í…Œì¼ì˜ ì¤‘ìš”ì„±
ë‹¨ìˆœíˆ ì‘ë‹µì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, íƒ€ì´í•‘ íš¨ê³¼ë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™” íë¦„ì„ ë§Œë“œëŠ” ê²ƒì´ ì‚¬ìš©ì ê²½í—˜ì— í° ì˜í–¥ì„ ë¯¸ì³¤ìŠµë‹ˆë‹¤.

## í–¥í›„ ê°œì„  ê³„íš

- ìŒì„± ì…ë ¥/ì¶œë ¥ ê¸°ëŠ¥ ì¶”ê°€ (Web Speech API)
- ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ë¶„ì„ (Gemini Vision)
- ëŒ€í™” ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ (PDF, Markdown)
- ë‹¤í¬ ëª¨ë“œ ì§€ì›
- ì½”ë“œ í•˜ì´ë¼ì´íŒ… (ëŒ€í™” ë‚´ ì½”ë“œ ë¸”ë¡)
- ì¦ê²¨ì°¾ê¸°/ë¶ë§ˆí¬ ê¸°ëŠ¥
- ì„¸ì…˜ ê²€ìƒ‰ ê¸°ëŠ¥

## ë§ˆì¹˜ë©°

Google Gemini APIë¥¼ í™œìš©í•œ ì±—ë´‡ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ìƒì„±í˜• AIë¥¼ ì‹¤ì „ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•˜ëŠ” ë°©ë²•ì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ ì²˜ë¦¬, í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§, ìƒíƒœ ê´€ë¦¬ ë“± ë‹¤ì–‘í•œ ê¸°ìˆ ì  ê³¼ì œë¥¼ í•´ê²°í•˜ë©° ì‹¤ë ¥ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
